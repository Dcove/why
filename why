#!/bin/bash
clear
lan="\033[36m "
huang="\033[33m "
white="\033[0m"
function logo(){
echo -e "$lan
                             _    
                            | |
                   __      _| |__  _   _
                   \ \ /\ / / '_ \| | | |
                    \ V  V /| | | | |_| |
                     \_/\_/ |_| |_|\__, |
                                    __/ |
                                   |___/'
"
}
function main(){
echo -e "\033[33m
[1]切换国内软件源                    
[2]安装ohmyzsh
[3]修复termux新版的一排键盘          
[4]安装命令行版百度网盘
[5]美化vim(spacevim)                 
[6]安装各种python工具
[7]好玩的东西
[8]安装基本工具
[9]安装BiliBiliHelper
[10]退出程序
--------------------------------------------------
"
read -p "请输入序号:" xuan
	case $xuan in
1)
	clear
	sed -i 's@^\(deb.*stable main\)$@#\1\ndeb https://mirrors.tuna.tsinghua.edu.cn/termux stable main@' $PREFIX/etc/apt/sources.list
	echo "更新软件包"
	apt update -y
	echo -e "$lan完成"
	echo -e "$white"
	main
	;;
2)
	pkg in curl -y >/dev/null
	sh -c "$(curl -fsSL https://github.com/Cabbagec/termux-ohmyzsh/raw/master/install.sh)"


	main
	;;
3)
	mkdir /data/data/com.termux/files/home/.termux
	echo "extra-keys = [['ESC','/','-','HOME','UP','END','PGUP'],['TAB','CTRL','ALT','LEFT','DOWN','RIGHT','PGDN']]" >> /data/data/com.termux/files/home/.termux/termux.properties
	echo "请重启termux"
	echo -e "$white"
	main
	;;
4)
	echo "deb [trusted=yes] http://termux.iikira.com stable main" >> /data/data/com.termux/files/usr/etc/apt/sources.list
	echo 安装中
	pkg in baidupcs-go -y >/dev/null 2>&1
	BaiduPCS-Go config set -appid 266719
	echo 安装完成，开启请使用BaiduPCS-Go命令启动
	echo -e "$white"
	;;
5)
  curl -sLf https://spacevim.org/cn/install.sh | bash
  echo "下次启动vim自动安装！"
  echo -e "$white"
  ;;
6)
  clear
  py
  ;;
7)
  van
  ;;
8)
  cd ~
  pkg in tar unzip python git wget curl vim nano -y
  echo "安装完成"
  echo "配置pip..."
  if test -d .pip
  then 
    cd 
  else
    mkdir .pip
  fi
  echo "
[global]
index-url = https://pypi.tuna.tsinghua.edu.cn/simple
[install]
trusted-host = https://pypi.tuna.tsinghua.edu.cn
"> ~/.pip/pip.conf
  echo -e "$white"
  main
  ;;
9)
  cd ~
  curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.34.0/install.sh | bash
  pkg in node -y
  git clone https://github.com/metowolf/BilibiliHelper.git
  cd BilibiliHelper
  npm install
  echo -e "$white"
  vim .config
  ;;
10)
	echo -e "$white"
	exit
	;;
*)
	echo -e "\033[31m请输入正确的序号！"
	main
esac
}
function van(){
clear
logo
echo -e "$huang
----------------------------------------
[100]游戏-sl跑火车      [101]atilo安装linux
[105]cmatrix仿黑客帝国  [102]返回
[104]nyancat彩虹猫
----------------------------------------
"
read -p "请输入序号:" vang
case $vang in
100)
  pkg in sl -y
  echo -e "$white"
  sl 
  van
  ;;
101)
echo  "deb [trusted=yes] https://yadominjinta.github.io/files/ termux extras"  >>  /data/data/com.termux/files/usr/etc/apt/sources.list
pkg in atilo-cn -y
  van
  echo -e "安装完成$white"
  ;;
102)
  clear 
  logo
  main
  ;;
104)
  pkg in nyancat -y
  nyancat
  ;;
105)
  pkg in cmatrix -y
  cmatrix
  ;;
*)
  echo -e "\033[31m请输入正确的序号！"
  echo -e "$white"
  van
  ;;
esac
}
function py(){
logo
echo -e "$huang 
[500]返回          [501]you-get
[502]jupyter
"
read -p "请输入序号:" pyg
case $pyg in
500)
  clear
  logo
  main
  ;;
501)
  echo -e "$white"
  pip install you-get
  ;;
502)
  echo -e "$white"
  pkg in clang libzmq libzmq-dev -y
  pip install jupyter
  ;;
*)
  clear
  echo -e "\033[31m请输入正确的序号！"
  py
esac
}
logo
main
